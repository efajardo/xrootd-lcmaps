# Configure LCMAPS authentication for XRootD installations
#
# **********************************************************************
# * WARNING: DO NOT EDIT THIS FILE.  IT WILL BE OVERWRITTEN ON UPGRADE *
# **********************************************************************
#
# This file is part of the xrootd-lcmaps package
#
# Instead of editing this file:
# - Modify /etc/xrootd/config.d/10-xrootd-lcmaps.cfg to enable the default
#   configuration
# - Override OSG-provided defaults by dropping a site-specific configuration
#   file in `/etc/xrootd/config.d` and prefixing it with "90-" or higher.
#

if defined ?EnableLcmaps
   xrootd.seclib libXrdSec.so
   sec.protocol /usr/lib64 gsi -certdir:/etc/grid-security/certificates \
                       -cert:/etc/grid-security/xrd/xrdcert.pem \
                       -key:/etc/grid-security/xrd/xrdkey.pem \
                       -crl:1 \
                       -authzfun:libXrdLcmaps.so \
                       -authzfunparms:lcmapscfg=/etc/lcmaps.db,loglevel=0,policy=authorize_only \
                       -gmapopt:10 -gmapto:0

   acc.authdb /etc/xrootd/auth_file
   ofs.authorize 1
fi
